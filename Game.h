#ifndef GAME_H
#define GAME_H

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <conio.h>
#include <windows.h>

#define LEFT 75 //?¡¤? ???    //??????? 
#define RIGHT 77 //??? ??? 
#define UP 72 //??? 
#define DOWN 80 //soft drop
#define SPACE 32 //hard drop
#define p 112 //??????? 
#define P 80 //???????
#define ESC 27 //???????? 
#define false 0
#define true 1
#define BOMB -3 //////////////////////////////////////////////////////////////
#define ACTIVE_BLOCK -2 // ??????ò÷?? ????? ????? ????? 
#define CEILLING -1     // ????? ????? ?? ??? ?????? 0 ??? ???? ?????? ??? 
#define EMPTY 0         // ????? ????? ?? ???? ?????? ????? ??? 
#define WALL 1
#define INACTIVE_BLOCK 2 // ????? ???? ???? 
#define MAIN_X 25 //?????? ??????? 
#define MAIN_Y 13 //?????? ??????? 
#define MAIN_X_ADJ 3 //?????? ??????? 
#define MAIN_Y_ADJ 1 //?????? ??????? 
#define STATUS_X_ADJ MAIN_X_ADJ+MAIN_X+1 //??????????? ???????

extern int STATUS_Y_GOAL; //GOAL ??????????Y ??? ???? 
extern int STATUS_Y_LEVEL; //LEVEL ??????????Y ??? ????
extern int STATUS_Y_SCORE; //SCORE ??????????Y ??? ????
extern int blocks[8][4][4][4];//////////////////////////////////////////////////////////////

extern int random_color[4];
extern int main_color[MAIN_Y][MAIN_X];
extern int main_org[MAIN_Y][MAIN_X];
extern int main_cpy[MAIN_Y][MAIN_X];
extern int bx;
extern int by; //??????? ????? ????????? x,y????? ???? 
extern int key; //?????? ??©ö??? ????? ???? 
extern int b_type;
extern int b_rotation;
extern int b_type_next; // block
extern int crush_on;
extern int space_key_on;
extern int new_block_on;
extern int level;
extern int score;
extern int level_goal;
extern int cnt;
extern int speed;
extern int combo_cnt;
extern int last_score;

//void textcolor(int colorNum);
void reset();
void reset_main();
void reset_main_cpy();
void new_block();
void check_key();
void drop_block();
int check_crush(int, int, int);
void move_block(int);
void move_bomb(int);//////////////////////////////////////////////////////////////
void check_line();
void check_level_up();
void check_game_over();
void pause();
void reset();

// game-window
void draw_map();
void draw_main();
void draw_main_color();

// music
void play_music();
void stop_music();

#endif // GAME_H